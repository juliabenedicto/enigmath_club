<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Desafío Bmath: El mapa roto de Ramón</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding-top: 2rem; background-color: #f5f9ff; }
    .countdown { font-size: 1.5rem; font-weight: bold; color: #d63384; }
    .ranking-nick { font-weight: bold; }
  </style>
</head>
<body>
<div class="container">
  <header class="mb-5 text-center">
    <h1 class="display-5">🔍 Desafío Bmath: El mapa roto de Ramón</h1>
    <p class="lead">¡Resuelve el enigma junto a tu familia y suma puntos para convertirte en una leyenda de las mates!</p>
  </header>

  <section class="mb-4">
    <h2>🧩 El reto</h2>
    <p>Ramón ha encontrado un mapa muy antiguo... ¡pero está incompleto! Solo hay algunos números y flechas que indican movimientos. ¿Podéis ayudarle a descubrir a dónde lleva?</p>
    <img src="https://via.placeholder.com/600x300?text=Imagen+del+mapa+roto" alt="Mapa roto" class="img-fluid rounded">
  </section>

  <section class="mb-4">
    <h2>📤 Envía tu respuesta</h2>
    <form action="https://formspree.io/f/{tu-form-id}" method="POST" class="row g-3">
      <div class="col-md-4">
        <input type="text" class="form-control" name="nickname" placeholder="Nickname del alumno/a" required>
      </div>
      <div class="col-md-4">
        <input type="text" class="form-control" name="curso" placeholder="Curso (por ejemplo: 4º)" required>
      </div>
      <div class="col-md-4">
        <input type="email" class="form-control" name="email" placeholder="Email del adulto responsable" required>
      </div>
      <div class="col-12">
        <textarea class="form-control" name="respuesta" rows="3" placeholder="Escribe aquí vuestra respuesta al reto" required></textarea>
      </div>
      <div class="col-12 text-center">
        <button type="submit" class="btn btn-primary btn-lg">Enviar respuesta</button>
      </div>
    </form>
  </section>

  <section class="mb-4 text-center">
    <div class="countdown" id="countdown">⏳ Cargando cuenta atrás...</div>
  </section>

  <section class="mb-4">
    <h2>🏆 Ranking semanal</h2>
    <ul class="list-group">
      <li class="list-group-item d-flex justify-content-between"><span class="ranking-nick">MateFamily1 (Sant Cugat)</span> <span>24 pts</span></li>
      <li class="list-group-item d-flex justify-content-between"><span class="ranking-nick">EquipoMatesPower (Terrassa)</span> <span>22 pts</span></li>
      <li class="list-group-item d-flex justify-content-between"><span class="ranking-nick">Sumonautas (Valencia)</span> <span>21 pts</span></li>
      <!-- más entradas -->
    </ul>
  </section>

  <section class="mb-4 text-center">
    <a href="https://api.whatsapp.com/send?text=¡Participa+en+el+Desafío+Bmath!+Sigue+este+link:+https://retobmath.netlify.app" class="btn btn-success btn-lg">📣 Comparte este reto con alguien</a>
  </section>

  <hr>

  <section class="mb-4">
    <h2>👨‍👩‍👧‍👦 Para los adultos</h2>
    <p><strong>¿Qué estamos trabajando esta semana?</strong> Este reto pone a prueba la capacidad para interpretar códigos, orientarse en el espacio y seguir instrucciones. Es la base del pensamiento lógico y de la resolución de problemas.</p>
    <p><strong>Tip pedagógico:</strong> ¿Sabías que cuando tu hijo duda está aprendiendo más que cuando acierta a la primera? Ayúdale preguntando cosas como “¿y si lo miramos de otra forma?” en vez de dar la solución.</p>
  </section>
</div>

<script>
  const countdownEl = document.getElementById("countdown");
  const nextFriday = new Date();
  nextFriday.setDate(nextFriday.getDate() + ((12 - nextFriday.getDay()) % 7)); // próximo viernes
  nextFriday.setHours(9, 0, 0, 0);

  function updateCountdown() {
    const now = new Date();
    const diff = nextFriday - now;
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((diff / 1000 / 60) % 60);
    countdownEl.innerText = `⏳ Faltan ${days} días, ${hours}h y ${minutes}min para el próximo reto.`;
  }

  updateCountdown();
  setInterval(updateCountdown, 60000);
</script>
</body>
</html>
