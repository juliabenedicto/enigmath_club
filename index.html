<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EnigMath Club</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; }
    .countdown { font-size: 1.25rem; font-weight: 500; color: #6c757d; }
    .section { background: white; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 0 10px rgba(0,0,0,0.05); }
  </style>
</head>
<body>

  <header class="bg-white border-bottom py-3 text-center">
    <img src="logo_bmath.png" alt="Bmath logo" height="50">
    <p class="countdown mt-2" id="countdown">El proper repte es desbloqueja en: ...</p>
  </header>

  <main class="container py-5">
    <h1 class="text-center text-primary mb-4">EnigMath Club</h1>
    <p class="lead text-center text-secondary">Reptes matemàtics per aprendre a casa</p>
    <p class="text-center fst-italic text-muted mb-5">Motiva’t, diverteix-te i estima les matemàtiques</p>

    <div class="section">
      <h2 class="h4 text-primary mb-3">🗺️ Repte: El mapa trencat d’en Ramon</h2>
      <p>Ramon ha trobat un mapa antic amb camins marcats per arribar al castell... però només pot avançar cap a la dreta ➡️ i cap avall ⬇️. Sortint de casa seva, a la cantonada superior esquerra d'una graella 4x4, quants camins diferents pot fer per arribar al castell, que és a la cantonada inferior dreta?</p>
      <p><strong>Pista:</strong> No pot tornar enrere ni anar cap a l'esquerra o cap amunt. Només pot fer moviments cap a la dreta o cap avall!</p>

      <img src="https://via.placeholder.com/600x300?text=Mapa+trencat+4x4" alt="Mapa trencat" class="img-fluid rounded my-3">

      <div class="text-center mt-4">
        <a href="https://typeform.com/to/exemple-formulari" target="_blank" class="btn btn-primary btn-lg">📩 Envia la teva resposta</a>
      </div>
    </div>

    <div class="section mt-5">
      <h3 class="h5">📊 Rànquing de la setmana</h3>
      <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between"><span><strong>SumadorsValls</strong> (Valls)</span> <span>20 pts</span></li>
        <li class="list-group-item d-flex justify-content-between"><span><strong>FamíliaXifres</strong> (Manresa)</span> <span>18 pts</span></li>
        <li class="list-group-item d-flex justify-content-between"><span><strong>CalculadorsBCN</strong> (Barcelona)</span> <span>17 pts</span></li>
        <!-- més nicks aquí -->
      </ul>
    </div>

    <div class="section mt-4 text-center">
      <a href="https://api.whatsapp.com/send?text=Descobreix+el+repte+matem%C3%A0tic+familiar+de+la+setmana+amb+EnigMath+Club!+https://retobmath.netlify.app" class="btn btn-success">📣 Comparteix aquest repte</a>
    </div>

    <div class="section mt-5">
      <h3 class="h5">👩‍🏫 Per a adults</h3>
      <p><strong>Què treballem amb aquest repte?</strong> Estem desenvolupant la lògica i el pensament estratègic, així com la comprensió de patrons i la combinatòria bàsica.</p>
      <p><strong>Consell pedagògic:</strong> Quan el vostre fill o filla dubta, està aprenent! Feu preguntes obertes com “Què passaria si...?” o “Com ho veus tu?” per fomentar el raonament.</p>
    </div>
  </main>

  <footer class="text-center text-muted py-4 small">
    © 2025 Bmath - Innovamat Education, S.L.
  </footer>

  <script>
    function getNextFriday17h() {
      const now = new Date();
      const result = new Date();
      const day = now.getDay();
      const daysUntilFriday = (5 - day + 7) % 7;
      result.setDate(now.getDate() + daysUntilFriday);
      result.setHours(17, 0, 0, 0);
      if (result < now) result.setDate(result.getDate() + 7);
      return result;
    }

    function updateCountdown() {
      const countdown = document.getElementById('countdown');
      const target = getNextFriday17h();
      const now = new Date();
      const diff = target - now;

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / 1000 / 60) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      countdown.textContent = `El proper repte es desbloqueja en: ${days}d ${hours}h ${minutes}min ${seconds}s`;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
  </script>
</body>
</html>
